<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Standardise stochastic data files — stone_stochastic_standardise • stoner</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Standardise stochastic data files — stone_stochastic_standardise"><meta property="og:description" content="Convert a modelling group's stochastic files into an intermediate
format including all the original data, separated by country
and scenario, and in PQ format for later processing. As much as
possible, we'll try and detect the input formats."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stoner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/stoner.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/vimc/stoner/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Standardise stochastic data files</h1>
    <small class="dont-index">Source: <a href="https://github.com/vimc/stoner/blob/master/R/stochastic_files.R" class="external-link"><code>R/stochastic_files.R</code></a></small>
    <div class="hidden name"><code>stone_stochastic_standardise.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert a modelling group's stochastic files into an intermediate
format including all the original data, separated by country
and scenario, and in PQ format for later processing. As much as
possible, we'll try and detect the input formats.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stone_stochastic_standardise</span><span class="op">(</span></span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">in_path</span>,</span>
<span>  <span class="va">out_path</span>,</span>
<span>  <span class="va">scenarios</span>,</span>
<span>  <span class="va">files</span>,</span>
<span>  index <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  rubella_fix <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_run_id_fix <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>The modelling group.</p></dd>


<dt id="arg-in-path">in_path<a class="anchor" aria-label="anchor" href="#arg-in-path"></a></dt>
<dd><p>The folder or network path where the original files are found.</p></dd>


<dt id="arg-out-path">out_path<a class="anchor" aria-label="anchor" href="#arg-out-path"></a></dt>
<dd><p>The folder or network path to write output files to.</p></dd>


<dt id="arg-scenarios">scenarios<a class="anchor" aria-label="anchor" href="#arg-scenarios"></a></dt>
<dd><p>A vector of strings giving each scenario name.</p></dd>


<dt id="arg-files">files<a class="anchor" aria-label="anchor" href="#arg-files"></a></dt>
<dd><p>This can either be a vector of strings of the same length to
the vector of scenarios, in which case each entry should match the scenario,
providing the filename for the original uploads for that scenario. Most
groups provide files numbered between 1 and 200 for their stochastic runs;
replace that number with <code>:index</code> in the filename to match. Alternatively,
files can be a single entry containing the string <code>:scenario</code>; in this case,
files must exist that match each entry in the <code>scenarios</code> parameter, and
the same file string can be used to match all of them (perhaps additionaly
wiht <code>:index</code>).</p></dd>


<dt id="arg-index">index<a class="anchor" aria-label="anchor" href="#arg-index"></a></dt>
<dd><p>This is usually a vector of ints, <code>1:200</code> to match the
range of stochastic files uploaded per scenario. A few groups upload one
large file containing everything, in which case <code>:index</code> shouldn't occur
in the <code>files</code> parameter, and should be omitted.</p></dd>


<dt id="arg-rubella-fix">rubella_fix<a class="anchor" aria-label="anchor" href="#arg-rubella-fix"></a></dt>
<dd><p>Historically Rubella uploads used the burden outcome
<code>rubella_deaths_congenital</code> and <code>rubella_cases_congenital</code> instead of
the simpler <code>deaths</code> and <code>cases</code>, and additionally provided a
<code>rubella_infections</code> field. <code>rubella_fix</code> needs to be TRUE to standardise
these to the simpler names. Processing Rubella stochastic files without
this set to TRUE will fail - so while we should always do this, keeping
the parameter makes it more clear in the code what we're doing and why.</p></dd>


<dt id="arg-missing-run-id-fix">missing_run_id_fix<a class="anchor" aria-label="anchor" href="#arg-missing-run-id-fix"></a></dt>
<dd><p>Some groups in the past have omitted run_id
from the files, but included them in the filenames. This fix inserts
that into the files if the index parameter indicates we have 200 runs to
process.</p></dd>

</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wes Hinsley, Rich Fitzjohn, Robert Ashton.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

